{"version":3,"sources":["api/ProductsAPI.js","api/UserAPI.js","api/CategoriesAPI.js","GlobalState.js","components/headers/icon/menu.svg","components/headers/icon/close.svg","components/headers/icon/cart.svg","components/headers/Header.js","components/mainpages/utils/productItem/btnRender.js","components/mainpages/utils/productItem/ProductItem.js","components/mainpages/products/Products.js","components/mainpages/detailProduct/DetailProduct.js","components/mainpages/auth/Login.js","components/mainpages/auth/Register.js","components/mainpages/cart/Cart.js","components/mainpages/utils/not_found/NotFound.js","components/mainpages/utils/loading/Loading.js","components/mainpages/createProduct/CreateProduct.js","components/mainpages/categories/Categories.js","components/mainpages/Pages.js","App.js","index.js"],"names":["ProductsAPI","useState","products","setProducts","getProducts","a","axios","get","res","data","useEffect","UserAPI","token","isLogged","setIsLogged","isAdmin","setIsAdmin","cart","setCart","headers","Authorization","role","alert","response","msg","getUser","addCart","product","every","item","_id","quantity","patch","CategoriesAPI","categories","setCategories","getCategories","GlobalState","createContext","DataProvider","children","setToken","refreshToken","accesstoken","localStorage","getItem","state","productsAPI","userAPI","categoriesAPI","Provider","value","Header","useContext","logoutUser","clear","window","location","href","className","src","Menu","alt","width","to","onClick","Close","length","Cart","BtnRender","id","ProductItem","images","url","title","price","description","Products","map","DetailProduct","params","useParams","detailProduct","setDetailProduct","forEach","product_id","content","sold","category","Login","email","password","user","setUser","onChangeInput","e","target","name","loginSubmit","preventDefault","post","setItem","onSubmit","type","placeholder","required","onChange","autoComplete","Register","registerSubmit","total","setTotal","reduce","prev","getTotal","addToCart","style","textAlign","fontSize","confirm","index","splice","trigger","position","NotFound","Loading","initialState","CreateProduct","setProduct","setImages","loading","setLoading","param","useHistory","onEdit","setOnEdit","handleUpload","file","files","size","formData","FormData","append","handleDestroy","public_id","handleChangeInput","handleSubmit","put","styleUpload","display","htmlFor","disabled","rows","Categories","setCategory","setID","createCategory","editCategory","deleteCategory","delete","Pages","exact","path","component","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d0522766.chunk.js","sourcesContent":["import {useState, useEffect} from 'react';\nimport axios from 'axios';\n\nfunction ProductsAPI() {\n    const [products, setProducts] = useState([])\n\n    const getProducts = async () => {\n        const res = await axios.get('api/products')\n        setProducts(res.data.products) \n    }\n\n    useEffect(() => {\n        getProducts()\n    },[])\n\n    return {\n        products: [products, setProducts]\n    }\n}\n\nexport default ProductsAPI\n","import {useState, useEffect} from 'react';\nimport axios from 'axios';\n\nfunction UserAPI(token) {\n    const [isLogged, setIsLogged] = useState(false)\n    const [isAdmin, setIsAdmin] = useState(false)\n    const [cart, setCart] = useState([])\n\n    useEffect(() => {\n        if(token){\n            const getUser = async () => {\n                try{\n                    const res = await axios.get('user/infor', {\n                        headers: {Authorization: token}\n                    })\n\n                    setIsLogged(true)\n                    res.data.role === 1 ? setIsAdmin(true) : setIsAdmin(false)\n                    \n                    setCart(res.data.cart)\n                    // console.log(res)\n                }catch(err){\n                    alert(err.response.data.msg)\n                }\n            }\n            getUser()\n        }\n    }, [token])\n\n    const addCart = async (product) => {\n        if(!isLogged) return alert (\"Please Login to continue shopping.\")\n\n        const check = cart.every(item => {\n            return item._id !== product._id\n        })\n\n        if(check){\n            setCart([...cart, {...product, quantity: 1}])\n\n            await axios.patch('user/addcart', {cart: [...cart, {...product, quantity: 1}]}, {\n                headers: {Authorization: token}\n            })\n        }\n        // }else{\n        //     alert(\"This product has been added to cart.\")\n        // }\n    }\n     \n    return {\n        isLogged: [isLogged, setIsLogged],\n        isAdmin: [isAdmin, setIsAdmin],\n        cart: [cart, setCart],\n        addCart: addCart\n    }\n}\n\nexport default UserAPI\n","import {useState, useEffect} from 'react'\nimport axios from 'axios';\n\n\nfunction CategoriesAPI() {\n    const [categories, setCategories] = useState([])\n\n    useEffect(() => {\n        const getCategories = async() => {\n            const res = await axios.get('api/category')\n            setCategories(res.data)\n        }\n        getCategories();\n    }, [])\n    return {\n    categories: [categories, setCategories]\n    }\n}\n\nexport default CategoriesAPI\n","import React, {createContext, useState, useEffect} from 'react';\nimport ProductsAPI from './api/ProductsAPI';\nimport UserAPI from './api/UserAPI';\nimport CategoriesAPI from './api/CategoriesAPI';\nimport axios from 'axios';\n\nexport const GlobalState = createContext()\n\nexport const DataProvider = ({children}) => {\n    const [token, setToken] = useState(false)\n    ProductsAPI()\n\n    const refreshToken = async () => {\n        const res = await axios.get('user/refresh_token')\n\n        setToken(res.data.accesstoken) \n        // console.log(res.data.accesstoken)\n    }\n\n    useEffect(() => {\n        const firstLogin = localStorage.getItem('firstLogin')\n        if(firstLogin) refreshToken()\n    }, [])\n\n    const state = {\n        token: [token, setToken],\n        productsAPI: ProductsAPI(),\n        userAPI: UserAPI(token),\n        categoriesAPI: CategoriesAPI()\n    }\n\n    return (\n        <GlobalState.Provider value={state}>\n            {children}\n        </GlobalState.Provider>\n    )\n}","export default __webpack_public_path__ + \"static/media/menu.e8db7520.svg\";","export default __webpack_public_path__ + \"static/media/close.ea7c95d7.svg\";","export default __webpack_public_path__ + \"static/media/cart.d146d6c3.svg\";","import React, { useContext } from 'react';\nimport { GlobalState } from '../../GlobalState';\nimport Menu from './icon/menu.svg';\nimport Close from './icon/close.svg';\nimport Cart from './icon/cart.svg';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Header() {\n    const state = useContext(GlobalState)\n    // console.log(state)\n    const [isLogged] = state.userAPI.isLogged\n    const [isAdmin] = state.userAPI.isAdmin\n    const [cart] = state.userAPI.cart\n\n    const logoutUser = async () => {\n        await axios.get('user/logout')\n        localStorage.clear()\n        // setIsAdmin(false)\n        // setIsLogged(false)\n        window.location.href = '/'\n    }\n\n    const adminRouter = () => {\n        return (\n            <>\n                <li><Link to=\"/create_product\">Create Product</Link></li>\n                <li><Link to=\"/category\">Categories</Link></li>\n            </>\n        )\n    }\n\n    const loggedRouter = () => {\n        return (\n            <>\n                {/* <li><Link to=\"/history\">History</Link></li> */}\n                <li><Link to=\"/\" onClick={logoutUser}>Logout</Link></li>\n            </>\n        )\n    }\n    // console.log(state)\n    return (\n        <header>\n            <div className=\"menu\">\n                <img src={Menu} alt=\"\" width=\"30\" />\n            </div>\n            <div className=\"logo\">\n                {/* <img src={Logo} alt=\"\"/> */}\n                <h1>\n                    <Link to='/'>{isAdmin ? 'fruit-cart Admin' : 'fruit-cart'}</Link>\n                </h1>\n            </div>\n\n            <ul>\n                <li><Link to='/'>{isAdmin ? 'Products' : null}</Link></li>\n\n                {isAdmin && adminRouter()}\n                {\n                    isLogged ? loggedRouter() : <li><Link to='/login'>Login</Link></li>\n                }\n                {/* <li><Link to='/login'>Login</Link></li> */}\n\n                <li>\n                    <img src={Close} alt=\"\" width=\"30\" className=\"menu\" />\n                </li>\n            </ul>\n            {\n                isAdmin ? ''\n                    : <div className=\"cart-icon\">\n                        <span>{cart.length}</span>\n                        <Link to=\"/cart\">\n                            <img src={Cart} alt=\"\" width=\"30\" />\n                        </Link>\n                    </div>\n            }\n\n        </header>\n    )\n}\n\nexport default Header\n","import React, {useContext} from 'react';\nimport {Link} from 'react-router-dom';\nimport {GlobalState} from '../../../../GlobalState';\n\n\nfunction BtnRender({product}) {\n    const state = useContext(GlobalState)\n    const [isAdmin] = state.userAPI.isAdmin\n    const addCart = state.userAPI.addCart\n        \n    return (\n        <div className=\"row_btn\">\n            {\n                isAdmin ? \n                <>\n                    <Link id=\"btn_buy\" to=\"#\">\n                        Delete\n                    </Link>\n                    <Link id=\"btn_view\" to={`/edit_product/${product._id}`}>\n                        Edit                          \n                    </Link>\n                </> \n                :\n                <>\n                    <Link id=\"btn_buy\" to=\"#\" onClick={() => addCart(product)}>\n                        Buy\n                    </Link>\n                    <Link id=\"btn_view\" to={`/detail/${product._id}`}>\n                        View\n                    </Link>  \n                </>\n\n            }\n           \n        </div>\n    )\n}\n\nexport default BtnRender\n","import React from 'react';\nimport BtnRender from './btnRender';\n\n\nfunction ProductItem({product}) {\n    \n    return (\n        <div className=\"product_card\">\n            <img src={product.images.url} alt=\"\" />\n\n            <div className=\"product_box\">\n                <h2 title={product.title} >{product.title}</h2>\n                <span>&#8377;{product.price}</span>\n                <p>{product.description}</p>\n            </div>\n            \n            <BtnRender product={product}/>\n\n         </div>\n    )\n}\n\nexport default ProductItem\n","import React, {useContext} from 'react';\nimport {GlobalState} from '../../../GlobalState';\n// import Loading from '../utils/loading/Loading';\nimport ProductItem from '../utils/productItem/ProductItem';\n\nfunction Products() {\n    const state = useContext(GlobalState)\n    const [products] = state.productsAPI.products\n    const [isAdmin] = state.userAPI.isAdmin\n    // console.log(products)\n\n    return (\n        <>\n        <div className=\"products\">\n            {\n                products.map(product => {\n                    return <ProductItem key={product._id} product={product} isAdmin={isAdmin} />\n                    \n                })\n            }\n        </div>\n        {/* {products.length === 0 && <Loading />} */}\n        </>\n    )\n}\n\nexport default Products\n","import React, {useContext, useState, useEffect} from 'react';\nimport {useParams, Link} from 'react-router-dom';\nimport {GlobalState} from '../../../GlobalState';\nimport ProductItem from '../utils/productItem/ProductItem';\n\nfunction DetailProduct() {\n    const params = useParams()\n    const state = useContext(GlobalState)\n    const [products] = state.productsAPI.products\n    const [detailProduct, setDetailProduct] = useState([])\n    // console.log(params)\n\n    useEffect(() => {\n        // console.log('re-render')\n        if(params.id){\n            products.forEach(product => {\n                if(product._id === params.id) setDetailProduct(product) \n            })\n        }\n    }, [params.id, products])\n\n    // console.log(detailProduct)\n    \n    if(detailProduct.length === 0) return null\n\n    return (\n        <div className=\"detatil\">\n           <center>\n                <img src={detailProduct.images.url} alt=\"\" />\n                <div className=\"box-detail\">\n                    <div className=\"row\">\n                        <h2>{detailProduct.title}</h2>\n                        <h6>#id: {detailProduct.product_id}</h6>\n                    </div>\n                    <span>&#8377;{detailProduct.price}</span>\n                    <p>{detailProduct.description}</p>\n                    <p>{detailProduct.content}</p>\n                    <p>Sold: {detailProduct.sold}</p>\n                    <Link to=\"/cart\" className=\"cart\">Buy Now</Link>\n                </div>\n           </center>\n            <div>\n                <h2>Related Products</h2>\n                <div className=\"products\">\n                    {\n                        products.map(product => {\n                            return product.category === detailProduct.category\n                            ? <ProductItem key={product._id} product={product} /> : null\n                        })\n                    }\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default DetailProduct","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Login() {\n    const [user, setUser] = useState({\n        email:'', password:''\n    })\n\n    const onChangeInput = e => {\n        const {name, value} = e.target;\n        setUser({...user, [name]: value})\n    }\n\n    const loginSubmit = async e => {\n        e.preventDefault()\n        try{\n            await axios.post('user/login', {...user})\n            localStorage.setItem('firstLogin', true)\n            window.location.href = \"/\";\n        }catch(err){\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h2>Login</h2>\n            <form onSubmit={loginSubmit} >\n                <input type=\"email\" name=\"email\" placeholder=\"Email\" required value={user.email} onChange={onChangeInput} />\n                <input type=\"password\" name=\"password\" placeholder=\"Password\" required value={user.password} autoComplete=\"on\" onChange={onChangeInput} />\n                \n                <div className=\"row\">\n                    <button type=\"submit\">Login</button>\n                    <Link to=\"/register\">Register</Link>\n                </div>\n                <div>\n                    <h7>*Enter user - \"admin@gmail.com\"</h7>\n                    <br/>\n                    <h7>Password - \"123456\" for login as Admin.</h7><br/>\n                    <h7>*Normal user register yourself first.</h7>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Login\n","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Register() {\n    const [user, setUser] = useState({\n        name:'', email:'', password:''\n    })\n\n    const onChangeInput = e => {\n        const {name, value} = e.target;\n        setUser({...user, [name]: value})\n    }\n\n    const registerSubmit = async e => {\n        e.preventDefault()\n        try{\n            await axios.post('user/register', {...user})\n            localStorage.setItem('firstLogin', true)\n            window.location.href = \"/\";\n        }catch(err){\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"login-page\">\n            <h2>Register</h2>\n            <form onSubmit={registerSubmit} >\n                <input type=\"name\" name=\"name\" placeholder=\"Name\" required value={user.name} onChange={onChangeInput} />\n\n                <input type=\"email\" name=\"email\" placeholder=\"Email\" required value={user.email} onChange={onChangeInput} />\n\n                <input type=\"password\" name=\"password\" placeholder=\"Password\" required value={user.password} autoComplete=\"on\" onChange={onChangeInput} />\n                \n                <div className=\"row\">\n                    <button type=\"submit\">Register</button>\n                    <Link to=\"/login\">Login</Link>\n                </div>\n            </form>\n        </div>\n    )\n}\n\nexport default Register\n","import React, {useState, useContext, useEffect} from 'react';\nimport {GlobalState} from '../../../GlobalState';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport Popup from \"reactjs-popup\";\n\nfunction Cart() {\n    const state = useContext(GlobalState)\n    const [cart, setCart] = state.userAPI.cart\n    const [token] = state.token\n    const [total, setTotal] = useState(0)\n\n    useEffect(() => {\n        const getTotal = () => {\n            const total = cart.reduce((prev, item) => {\n                return prev + (item.price * item.quantity)\n            }, 0)\n            setTotal(total)\n        }\n        getTotal()\n    }, [cart])\n\n    const addToCart = async() => {\n        await axios.patch('user/addcart', {cart}, {\n            headers: {Authorization: token}\n        })\n    }\n\n    const increment = (id) => {\n        cart.forEach(item => {\n            if(item._id === id){\n                item.quantity += 1\n            }\n        })\n        setCart([...cart])\n        addToCart()\n    }\n\n    const decrement = (id) => {\n        cart.forEach(item => {\n            if(item._id === id){\n                item.quantity === 1 ? item.quantity = 1 : item.quantity -= 1\n            }\n        })\n        setCart([...cart])\n        addToCart()\n    }\n\n    const removeProduct = id => {\n        if(window.confirm(\"Do you want to delete this product\")){\n            cart.forEach((item, index) => {\n                if(item._id === id){\n                    cart.splice(index, 1)\n                }\n            })\n            setCart([...cart])\n            addToCart() \n        }\n    }\n    \n    if(cart.length === 0) \n        return <h2 style={{textAlign: \"center\", fontSize: \"5rem\"}}>Cart is empty</h2>\n    return (\n        <div>\n        <center>\n        <div>\n                    {\n            cart.map(product => (\n                <div className=\"cart\" key={product._id}>\n                    <img src={product.images.url} alt=\"\" className=\"img_container\"/>\n                    \n                    <div className=\"box-detail\">\n                        <h2>{product.title}</h2>\n                        <h3>&#8377;{product.price * product.quantity}</h3>\n                        <p>{product.description}</p>\n                        <p>{product.content}</p>\n                        <div className=\"amount\">\n                            <button onClick={() => decrement(product._id)}>-</button>                            \n                            <span>{product.quantity}</span>\n                            <button onClick={() => increment(product._id)}>+</button>\n                        </div>\n                        <div className=\"delete\" onClick={() => removeProduct(product._id)}>\n                            X\n                        </div>\n                    </div>\n                </div>                       \n                ))\n            }\n            <div className=\"total\">\n                <h3>Total: &#8377; {total}</h3>\n            </div>\n            <Popup trigger={<button className=\"btn\">Pay</button>} position=\"top left\">\n               <div className=\"pay\">\n              Your Payment is successfully done.\n               </div> \n            </Popup>\n            </div>\n            </center>\n        </div>\n    )\n}\n\nexport default Cart\n","import React from 'react'\n\nfunction NotFound() {\n    return (\n        <div>\n            404 | Not Found\n        </div>\n    )\n}\n\nexport default NotFound\n","import React from 'react';\nimport './loading.css';\n\nfunction Loading() {\n    return (\n        <div className=\"load-page\">\n            <div className=\"loader\">\n                <div>\n                    <div>\n                        <div>\n                            <div>\n                                <div>\n                                    <div>\n                                        <div>\n                                            <div></div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Loading\n","import React, {useState, useContext, useEffect} from 'react'\nimport axios from 'axios'\nimport {GlobalState} from '../../../GlobalState'\nimport Loading from '../utils/loading/Loading'\nimport {useHistory, useParams} from 'react-router-dom'\n\nconst initialState = {\n    product_id: '',\n    title: '',\n    price: 0,\n    description: '',\n    content: '',\n    category: '',\n    _id: ''\n}\n\nfunction CreateProduct() {\n    const state = useContext(GlobalState)\n    const [product, setProduct] = useState(initialState)\n    const [categories] = state.categoriesAPI.categories\n    const [images, setImages] = useState(false)\n    const [loading, setLoading] = useState(false)\n\n\n    const [isAdmin] = state.userAPI.isAdmin\n    const [token] = state.token\n\n    const history = useHistory()\n    const param = useParams()\n\n    const [products] = state.productsAPI.products\n    const [onEdit, setOnEdit] = useState(false)\n    // const [callback, setCallback] = state.productsAPI.callback\n\n    useEffect(() => {\n        if(param.id){\n            setOnEdit(true)\n            products.forEach(product => {\n                if(product._id === param.id) {\n                    setProduct(product)\n                    setImages(product.images)\n                }\n            })\n        }else{\n            setOnEdit(false)\n            setProduct(initialState)\n            setImages(false)\n        }\n    }, [param.id, products])\n\n    const handleUpload = async e =>{\n        e.preventDefault()\n        try {\n            if(!isAdmin) return alert(\"You're not an admin\")\n            const file = e.target.files[0]\n            \n            if(!file) return alert(\"File not exist.\")\n\n            if(file.size > 1024 * 1024) // 1mb\n                return alert(\"Size too large!\")\n\n            if(file.type !== 'image/jpeg' && file.type !== 'image/png') // 1mb\n                return alert(\"File format is incorrect.\")\n\n            let formData = new FormData()\n            formData.append('file', file)\n\n            setLoading(true)\n            const res = await axios.post('api/upload', formData, {\n                headers: {'content-type': 'multipart/form-data', Authorization: token}\n            })\n            setLoading(false)\n            setImages(res.data)\n\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const handleDestroy = async () => {\n        try {\n            if(!isAdmin) return alert(\"You're not an admin\")\n            setLoading(true)\n            await axios.post('api/destroy', {public_id: images.public_id}, {\n                headers: {Authorization: token}\n            })\n            setLoading(false)\n            setImages(false)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const handleChangeInput = e =>{\n        const {name, value} = e.target\n        setProduct({...product, [name]:value})\n    }\n\n    const handleSubmit = async e =>{\n        e.preventDefault()\n        try {\n            if(!isAdmin) return alert(\"You're not an admin\")\n            if(!images) return alert(\"No Image Upload\")\n\n            if(onEdit){\n                await axios.put(`api/products/${product._id}`, {...product, images}, {\n                    headers: {Authorization: token}\n                })\n            }else{\n                await axios.post('api/products', {...product, images}, {\n                    headers: {Authorization: token}\n                })\n            }\n            // setCallback(!callback)\n            // history.push(\"/\")\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const styleUpload = {\n        display: images ? \"block\" : \"none\"\n    }\n    return (\n        <div className=\"create_product\">\n            <div className=\"upload\">\n                <input type=\"file\" name=\"file\" id=\"file_up\" onChange={handleUpload}/>\n                {\n                    loading ? <div id=\"file_img\"><Loading /></div>\n\n                    :<div id=\"file_img\" style={styleUpload}>\n                        <img src={images ? images.url : ''} alt=\"\"/>\n                        <span onClick={handleDestroy}>X</span>\n                    </div>\n                }\n                \n            </div>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"row\">\n                    <label htmlFor=\"product_id\">Product ID</label>\n                    <input type=\"text\" name=\"product_id\" id=\"product_id\" required\n                    value={product.product_id} onChange={handleChangeInput} disabled={onEdit} />\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"title\">Title</label>\n                    <input type=\"text\" name=\"title\" id=\"title\" required\n                    value={product.title} onChange={handleChangeInput} />\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"price\">Price</label>\n                    <input type=\"number\" name=\"price\" id=\"price\" required\n                    value={product.price} onChange={handleChangeInput} />\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"description\">Description</label>\n                    <textarea type=\"text\" name=\"description\" id=\"description\" required\n                    value={product.description} rows=\"5\" onChange={handleChangeInput} />\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"content\">Content</label>\n                    <textarea type=\"text\" name=\"content\" id=\"content\" required\n                    value={product.content} rows=\"7\" onChange={handleChangeInput} />\n                </div>\n\n                <div className=\"row\">\n                    <label htmlFor=\"categories\">Categories: </label>\n                    <select name=\"category\" value={product.category} onChange={handleChangeInput} >\n                        <option value=\"\">Please select a category</option>\n                        {\n                            categories.map(category => (\n                                <option value={category._id} key={category._id}>\n                                    {category.name}\n                                </option>\n                            ))\n                        }\n                    </select>\n                </div>\n\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\n            </form>\n        </div>\n    )\n}\n\nexport default CreateProduct\n","import React, {useState, useContext} from 'react'\nimport {GlobalState} from '../../../GlobalState'\nimport axios from 'axios'\n\nfunction Categories() {\n    const state = useContext(GlobalState)\n    const [categories, setCategories] = state.categoriesAPI.categories\n    const [category, setCategory] = useState('')\n    const [token] = state.token\n    const [onEdit, setOnEdit] = useState(false)\n    const [id, setID] = useState('')\n\n    const createCategory = async e =>{\n        e.preventDefault()\n        try {\n            if(onEdit){\n                const res = await axios.put(`api/category/${id}`, {name: category}, {\n                    headers: {Authorization: token}\n                })\n                alert(res.data.msg)\n            }else{\n                const res = await axios.post('api/category', {name: category}, {\n                    headers: {Authorization: token}\n                })\n                alert(res.data.msg)\n            }\n            setOnEdit(false)\n            setCategory('')\n            \n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    const editCategory = async (id, name) =>{\n        setID(id)\n        setCategory(name)\n        setOnEdit(true)\n    }\n\n    const deleteCategory = async id =>{\n        try {\n            const res = await axios.delete(`api/category/${id}`, {\n                headers: {Authorization: token}\n            })\n            alert(res.data.msg)\n        } catch (err) {\n            alert(err.response.data.msg)\n        }\n    }\n\n    return (\n        <div className=\"categories\">\n            <form onSubmit={createCategory}>\n                <label htmlFor=\"category\">Category</label>\n                <input type=\"text\" name=\"category\" value={category} required\n                onChange={e => setCategory(e.target.value)} />\n\n                <button type=\"submit\">{onEdit? \"Update\" : \"Create\"}</button>\n            </form>\n\n            <div className=\"col\">\n                {\n                    categories.map(category => (\n                        <div className=\"row\" key={category._id}>\n                            <p>{category.name}</p>\n                            <div>\n                                <button onClick={() => editCategory(category._id, category.name)}>Edit</button>\n                                <button onClick={() => deleteCategory(category._id)}>Delete</button>\n                            </div>\n                        </div>\n                    ))\n                }\n            </div>\n        </div>\n    )\n}\n\nexport default Categories\n","import React, {useContext} from 'react';\nimport {Switch, Route} from 'react-router-dom';\nimport Products from './products/Products';\nimport DetailProduct from './detailProduct/DetailProduct';\nimport Login from './auth/Login';\nimport Register from './auth/Register';\nimport Cart from './cart/Cart';\nimport NotFound from './utils/not_found/NotFound';\nimport {GlobalState} from '../../GlobalState';\nimport CreateProduct from './createProduct/CreateProduct';\nimport Categories from './categories/Categories';\n\n\nfunction Pages() {\n    \n    const state = useContext(GlobalState)\n    const [isLogged] = state.userAPI.isLogged\n    const [isAdmin] = state.userAPI.isAdmin\n\n    \n    return (\n        <Switch>\n            <Route exact path=\"/\" component={Products} />\n            <Route exact path=\"/detail/:id\" component={DetailProduct} />\n            <Route path=\"/login\" component={isLogged ? NotFound : Login} />\n            <Route path=\"/register\" component={isLogged ? NotFound : Register} />\n            <Route path=\"/category\" component={isAdmin ? Categories : NotFound} />\n            <Route path=\"/create_product\" component={isAdmin ? CreateProduct : NotFound} />\n            <Route path=\"/cart\" component={Cart} />\n            <Route path=\"*\" component={NotFound} />\n        </Switch>\n    )\n}\n\nexport default Pages\n","import React from 'react';\nimport {BrowserRouter as Router} from 'react-router-dom';\nimport {DataProvider} from './GlobalState';\nimport Header from './components/headers/Header';\nimport Pages from './components/mainpages/Pages';\n\nfunction App() {\n  return (\n    <DataProvider>\n      <Router>\n        <div className=\"App\">\n          <Header />\n          <Pages />\n        </div>\n      </Router>\n    </DataProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}